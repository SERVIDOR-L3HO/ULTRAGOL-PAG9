<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="shortcut icon" href="favicon.png">
    <title>UltraGol - Plataforma Deportiva Profesional</title>
    <link rel="stylesheet" href="css/main.css?v=20251112">
    <link rel="stylesheet" href="css/animations.css?v=20251109">
    <link rel="stylesheet" href="css/firebase-features.css?v=20251109">
    <link rel="stylesheet" href="css/cookie-banner.css?v=20251109">
    <link rel="stylesheet" href="css/app-download-banner.css?v=20251109">
    <link rel="stylesheet" href="css/professional-hero.css?v=20251109">
    <link rel="stylesheet" href="css/gemini-chat.css?v=20251109">
    <link rel="stylesheet" href="css/live-scoreboard.css?v=20251109">
    <link rel="stylesheet" href="css/pwa-install-banner.css?v=20251109">
    <link rel="stylesheet" href="css/notifications.css?v=20251109">
    <link rel="stylesheet" href="css/tv-styles.css?v=20251109">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f3460">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="UltraGol">
    
    <!-- Verificar codigo promocional antes de cargar anuncios -->
    <script>
    (function() {
        try {
            var stored = localStorage.getItem('ultragol_promo_status');
            if (stored) {
                var status = JSON.parse(stored);
                if (status.expiresAt && new Date().getTime() < status.expiresAt) {
                    document.documentElement.classList.add('ads-hidden');
                    window.promoActive = true;
                }
            }
        } catch(e) {}
    })();
    </script>
    
    <!-- Google Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3612607805789879"
     crossorigin="anonymous"></script>
</head>
<body>
    <!-- Header Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="attached_assets/1001721720-removebg-preview_1759201879566.png" alt="UltraGol" class="logo">
                <span class="company-tag">by L3HO</span>
            </div>
            
            <!-- Auth Section (igual que ULTRA) -->
            <div class="auth-section">
                <div id="user-info" class="user-info" style="display: none;">
                    <img id="user-avatar" class="user-avatar" src="" alt="Avatar">
                    <div class="user-details">
                        <span id="user-name" class="user-name"></span>
                        <button id="logout-btn" class="logout-btn">
                            <i class="fas fa-sign-out-alt"></i> Salir
                        </button>
                    </div>
                </div>
                <button id="login-btn" class="login-btn">
                    <i class="fab fa-google"></i> Iniciar Sesi√≥n
                </button>
            </div>
        </div>
    </nav>

    <!-- Professional Football Hero Section -->
    <section class="professional-hero">
        <div class="hero-container">
            <!-- Background Elements -->
            <div class="hero-background">
                <div class="floating-particles"></div>
                <div class="gradient-orbs"></div>
            </div>
            
            <!-- Hero Content -->
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-main-title">
                        El futuro del
                        <span class="gradient-text">f√∫tbol mexicano</span>
                    </h1>
                    <p class="hero-description">
                        La plataforma m√°s avanzada para seguir la Liga MX. 
                        Estad√≠sticas en tiempo real, an√°lisis profesional y la mejor experiencia de usuario.
                    </p>
                    <div class="hero-actions">
                        <a href="standings.html" class="hero-btn primary">
                            <span>Explorar Liga</span>
                            <i class="fas fa-arrow-right"></i>
                        </a>
                        <a href="ULTRA/index.html" class="hero-btn secondary" target="_blank">
                            <i class="fas fa-play"></i>
                            <span>Ver en Vivo</span>
                        </a>
                    </div>
                </div>
                
                <!-- Football Visual Element -->
                <div class="hero-visual">
                    <div class="football-stadium">
                        <div class="stadium-field">
                            <div class="field-lines"></div>
                            <div class="center-circle"></div>
                            <div class="penalty-areas"></div>
                        </div>
                        <div class="floating-ball">
                            <i class="fas fa-futbol"></i>
                        </div>
                        <div class="stats-overlay">
                            <div class="stat-item">
                                <span class="stat-number">18</span>
                                <span class="stat-label">Equipos</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">306</span>
                                <span class="stat-label">Partidos</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">850+</span>
                                <span class="stat-label">Goles</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Scoreboard Section -->
    <section class="live-scoreboard-section">
        <div class="scoreboard-container">
            <div class="scoreboard-header">
                <h2 class="scoreboard-title">
                    <i class="fas fa-broadcast-tower"></i>
                    Marcadores en Vivo
                </h2>
                <p class="scoreboard-subtitle">Sigue todos los partidos de la Liga MX en tiempo real</p>
            </div>

            <div class="scoreboard-tabs">
                <button class="scoreboard-tab active" data-filter="live">
                    <i class="fas fa-circle"></i> EN VIVO
                </button>
                <button class="scoreboard-tab" data-filter="upcoming">
                    <i class="far fa-clock"></i> PR√ìXIMOS
                </button>
                <button class="scoreboard-tab" data-filter="all">
                    <i class="fas fa-list"></i> TODOS
                </button>
            </div>

            <div class="scoreboard-grid" id="scoreboard-grid">
                <!-- Los partidos se cargar√°n aqu√≠ din√°micamente -->
                <div class="empty-state">
                    <i class="fas fa-spinner fa-spin"></i>
                    <h3>Cargando partidos...</h3>
                    <p>Por favor espera un momento</p>
                </div>
            </div>

            <div class="last-updated">
                <i class="fas fa-sync-alt"></i>
                √öltima actualizaci√≥n: <span id="last-updated-time">--</span>
            </div>
        </div>
    </section>

    <!-- Quick Stats Section -->
    <section class="stats-section">
        <div class="container">
            <h2 class="section-title">Temporada Actual</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-number" data-count="18">0</div>
                    <div class="stat-label">Equipos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar"></i>
                    </div>
                    <div class="stat-number" data-count="306">0</div>
                    <div class="stat-label">Partidos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-futbol"></i>
                    </div>
                    <div class="stat-number" data-count="850">0</div>
                    <div class="stat-label">Goles</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number" data-count="500">0</div>
                    <div class="stat-label">Jugadores</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Top Teams Preview -->
    <section class="top-teams">
        <div class="container">
            <h2 class="section-title">Primeros Lugares</h2>
            <div class="teams-preview" id="topTeamsPreview">
                <!-- Dynamic content loaded via JavaScript -->
            </div>
            <div class="section-footer">
                <a href="standings.html" class="btn btn-outline">Ver Tabla Completa</a>
            </div>
        </div>
    </section>

    <!-- Live Streams Section -->
    <section class="live-streams-hero">
        <div class="container">
            <div class="live-streams-card">
                <div class="live-streams-header">
                    <h2 class="live-title">
                        <span class="live-icon">
                            <i class="fas fa-play-circle"></i>
                            <span class="pulse"></span>
                        </span>
                        üî¥ TRANSMISIONES EN VIVO
                    </h2>
                    <p class="live-subtitle">Disfruta los partidos de Liga MX en tiempo real</p>
                </div>
                
                <div class="live-streams-content">
                    <div class="live-feature">
                        <div class="feature-icon">
                            <i class="fas fa-broadcast-tower"></i>
                        </div>
                        <div class="feature-text">
                            <h3>Enlaces de Calidad</h3>
                            <p>Links verificados de transmisiones en vivo</p>
                        </div>
                    </div>
                    
                    <div class="live-feature">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="feature-text">
                            <h3>Comunidad Activa</h3>
                            <p>Comparte y encuentra los mejores streams</p>
                        </div>
                    </div>
                    
                    <div class="live-feature">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="feature-text">
                            <h3>Multiplataforma</h3>
                            <p>YouTube, Facebook, Instagram y m√°s</p>
                        </div>
                    </div>
                </div>
                
                <div class="live-cta">
                    <a href="ULTRA/index.html" class="btn btn-live" target="_blank">
                        <i class="fas fa-play"></i>
                        <span>ACCEDER A UltraGol LIVE</span>
                        <div class="btn-glow"></div>
                    </a>
                </div>
            </div>
        </div>
    </section>



    <!-- Analytics Dashboard -->
    <section class="analytics-dashboard">
        <div class="container">
            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3><i class="fas fa-trophy"></i> Top Goleadores</h3>
                    <div id="topScorersHome" class="scorers-list">
                        <div class="scorer-item">
                            <span class="name" style="text-align: center; width: 100%; color: #999;">
                                <i class="fas fa-spinner fa-spin"></i> Cargando goleadores...
                            </span>
                        </div>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>Tendencias</h3>
                    <div class="trends-container">
                        <div class="trend-item">
                            <i class="fas fa-arrow-up trend-up"></i>
                            <span>Partidos Emocionantes +15%</span>
                        </div>
                        <div class="trend-item">
                            <i class="fas fa-arrow-up trend-up"></i>
                            <span>Goles por Partido +8%</span>
                        </div>
                        <div class="trend-item">
                            <i class="fas fa-arrow-down trend-down"></i>
                            <span>Tarjetas Rojas -12%</span>
                        </div>
                    </div>
                </div>
                <div class="analytics-card">
                    <h3>Pr√≥ximos Destacados</h3>
                    <div class="featured-matches">
                        <div class="featured-match">
                            <div class="match-teams">
                                <span>Cl√°sico Nacional</span>
                            </div>
                            <div class="match-info">
                                <span class="date">Pr√≥ximo Fin de Semana</span>
                                <span class="importance">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            </div>
                        </div>
                        <div class="featured-match">
                            <div class="match-teams">
                                <span>Derby Regional</span>
                            </div>
                            <div class="match-info">
                                <span class="date">Mi√©rcoles</span>
                                <span class="importance">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Professional Insights -->
    <section class="professional-insights">
        <div class="container">
            <h2 class="section-title">Insights Profesionales by L3HO</h2>
            <div class="insights-grid">
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>An√°lisis T√°ctico</h3>
                    <p>An√°lisis profundo de formaciones, estrategias y rendimiento t√°ctico de cada equipo.</p>
                    <a href="#" class="insight-link">Ver An√°lisis <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>M√©tricas Avanzadas</h3>
                    <p>Estad√≠sticas avanzadas, xG, heat maps y an√°lisis de rendimiento individual.</p>
                    <a href="#" class="insight-link">Ver M√©tricas <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Predicciones Pro</h3>
                    <p>Algoritmos avanzados para predicciones de partidos y tendencias del campeonato.</p>
                    <a href="#" class="insight-link">Ver Predicciones <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- Banner de Descarga de Aplicaci√≥n Ultra Profesional -->
    <section class="app-download-banner">
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
        
        <div class="app-banner-content">
            <div class="app-banner-text">
                <div class="app-banner-pretitle">üöÄ Disponible Pronto</div>
                <h2 class="app-banner-title">Descarga Nuestra Aplicaci√≥n</h2>
                <p class="app-banner-subtitle">Experimenta UltraGol en tu m√≥vil con todas las funciones premium. Resultados en tiempo real, estad√≠sticas avanzadas y transmisiones en vivo al alcance de tus manos.</p>
                
                <div class="app-banner-features">
                    <div class="app-feature" style="--delay: 0s;">
                        <div class="app-feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="app-feature-content">
                            <h4>Resultados Instant√°neos</h4>
                            <p>Recibe notificaciones de goles y resultados al instante</p>
                        </div>
                    </div>
                    <div class="app-feature" style="--delay: 0.3s;">
                        <div class="app-feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="app-feature-content">
                            <h4>Estad√≠sticas Avanzadas</h4>
                            <p>An√°lisis profundo de jugadores y equipos con m√©tricas pro</p>
                        </div>
                    </div>
                    <div class="app-feature" style="--delay: 0.6s;">
                        <div class="app-feature-icon">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="app-feature-content">
                            <h4>Transmisi√≥n en Vivo</h4>
                            <p>Disfruta partidos en vivo con calidad HD optimizada</p>
                        </div>
                    </div>
                </div>
                
                <div class="app-banner-actions">
                    <a href="#" class="download-btn" id="downloadAppBtn">
                        <i class="fas fa-download"></i>
                        Descargar Gratis
                    </a>
                    <a href="#" class="github-link" id="githubLinkBtn">
                        <i class="fab fa-github"></i>
                        Ver en GitHub
                    </a>
                </div>
            </div>
            
            <div class="app-mockup">
                <div class="phones-container">
                    <!-- Tel√©fono Izquierdo - Estad√≠sticas -->
                    <div class="phone-mockup left-phone">
                        <div class="phone-screen">
                            <div class="screen-content">
                                <div class="screen-header">
                                    <span>13:50</span>
                                    <span>üîã üì∂ üìä</span>
                                </div>
                                <div class="screen-content-main">
                                    <div class="screen-logo">Estad√≠sticas</div>
                                    <div class="screen-tagline">An√°lisis en Tiempo Real</div>
                                    
                                    <div class="screen-stats">
                                        <div class="screen-stat">
                                            <span class="screen-stat-number">18</span>
                                            <span class="screen-stat-label">Equipos</span>
                                        </div>
                                        <div class="screen-stat">
                                            <span class="screen-stat-number">125</span>
                                            <span class="screen-stat-label">Partidos</span>
                                        </div>
                                        <div class="screen-stat">
                                            <span class="screen-stat-number">2.1M</span>
                                            <span class="screen-stat-label">Usuarios</span>
                                        </div>
                                    </div>
                                    
                                    <div class="screen-mini-chart">
                                        <div class="screen-chart-bar"></div>
                                        <div class="screen-chart-bar"></div>
                                        <div class="screen-chart-bar"></div>
                                        <div class="screen-chart-bar"></div>
                                        <div class="screen-chart-bar"></div>
                                        <div class="screen-chart-bar"></div>
                                    </div>
                                    
                                    <div class="screen-dots">
                                        <div class="screen-dot"></div>
                                        <div class="screen-dot active"></div>
                                        <div class="screen-dot"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tel√©fono Principal -->
                    <div class="phone-mockup main-phone">
                        <div class="phone-screen">
                            <div class="screen-content">
                                <div class="screen-header">
                                    <span>13:50</span>
                                    <span>üîã üì∂ ‚öΩ</span>
                                </div>
                                <div class="screen-content-main">
                                    <div class="screen-logo">UltraGol</div>
                                    <div class="screen-tagline">La plataforma deportiva m√°s profesional</div>
                                    
                                    <!-- Partido destacado -->
                                    <div class="screen-match-card">
                                        <div class="screen-teams">
                                            <div class="screen-team">
                                                <div class="screen-team-logo">A</div>
                                                <span>Am√©rica</span>
                                            </div>
                                            <div class="screen-score">2-1</div>
                                            <div class="screen-team">
                                                <span>Chivas</span>
                                                <div class="screen-team-logo">C</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="screen-stats">
                                        <div class="screen-stat">
                                            <span class="screen-stat-number">LIVE</span>
                                            <span class="screen-stat-label">En Vivo</span>
                                        </div>
                                        <div class="screen-stat">
                                            <span class="screen-stat-number">45K</span>
                                            <span class="screen-stat-label">Viendo</span>
                                        </div>
                                    </div>
                                    
                                    <div class="screen-buttons">
                                        <button class="screen-btn primary">Explorar Liga</button>
                                        <button class="screen-btn secondary">Ver Equipos</button>
                                    </div>
                                    <div class="screen-dots">
                                        <div class="screen-dot active"></div>
                                        <div class="screen-dot"></div>
                                        <div class="screen-dot"></div>
                                        <div class="screen-dot"></div>
                                        <div class="screen-dot"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tel√©fono Derecho - Live Stream -->
                    <div class="phone-mockup right-phone">
                        <div class="phone-screen">
                            <div class="screen-content">
                                <div class="screen-header">
                                    <span>13:50</span>
                                    <span>üîã üì∂ üì∫</span>
                                </div>
                                <div class="screen-content-main">
                                    <div class="screen-live-indicator">
                                        <div class="screen-live-dot"></div>
                                        EN VIVO
                                    </div>
                                    <div class="screen-logo">UltraGol LIVE</div>
                                    <div class="screen-tagline">Transmisiones en HD</div>
                                    
                                    <!-- Indicadores de streaming -->
                                    <div class="screen-match-card">
                                        <div class="screen-teams">
                                            <span style="font-size: 0.5rem; color: #ff6b35;">‚öΩ CL√ÅSICO NACIONAL</span>
                                        </div>
                                        <div style="text-align: center; margin: 5px 0;">
                                            <div style="color: #ff6b35; font-size: 0.6rem; font-weight: bold;">90' +3'</div>
                                        </div>
                                    </div>
                                    
                                    <div class="screen-stats">
                                        <div class="screen-stat">
                                            <span class="screen-stat-number">4K</span>
                                            <span class="screen-stat-label">Ultra HD</span>
                                        </div>
                                        <div class="screen-stat">
                                            <span class="screen-stat-number">0ms</span>
                                            <span class="screen-stat-label">Latencia</span>
                                        </div>
                                    </div>
                                    
                                    <div class="screen-dots">
                                        <div class="screen-dot"></div>
                                        <div class="screen-dot"></div>
                                        <div class="screen-dot active"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="floating-elements">
                    <div class="floating-element">‚öΩ</div>
                    <div class="floating-element">üèÜ</div>
                    <div class="floating-element">üìä</div>
                    <div class="floating-element">üì±</div>
                    <div class="floating-element">üéØ</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>UltraGol</h3>
                    <p>Plataforma deportiva profesional by L3HO</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="bi bi-twitter-x"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Enlaces</h4>
                    <ul>
                        <li><a href="standings.html">Tabla de Posiciones</a></li>
                        <li><a href="teams.html">Equipos</a></li>
                        <li><a href="fixtures.html">Partidos</a></li>
                        <li><a href="calendario.html">Calendario</a></li>
                        <li><a href="estadisticas.html">Estad√≠sticas</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Informaci√≥n</h4>
                    <ul>
                        <li><a href="#">Reglamento</a></li>
                        <li><a href="#">Estad√≠sticas</a></li>
                        <li><a href="#">Noticias</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 UltraGol by L3HO. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Enhanced Main Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('UltraGol loaded with new authentication system');
            
            const authButtons = document.getElementById('authButtons');
            if (authButtons) {
                authButtons.style.display = 'flex';
                authButtons.style.gap = '10px';
                authButtons.style.alignItems = 'center';
            }
        });
    </script>
    
    <!-- Authentication Modal Functions -->
    <script>
        
        // Global functions for authentication modal
        window.openAuthModal = function(mode = 'login') {
            const modal = document.getElementById('authModal');
            modal.style.display = 'flex';
            showAuthTab(mode);
        };
        
        window.closeAuthModal = function() {
            const modal = document.getElementById('authModal');
            modal.style.display = 'none';
        };
        
        window.showAuthTab = function(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const modalTitle = document.getElementById('authModalTitle');
            
            if (tab === 'login') {
                loginTab.classList.add('active');
                registerTab.classList.remove('active');
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
                modalTitle.textContent = 'Iniciar Sesi√≥n';
            } else {
                registerTab.classList.add('active');
                loginTab.classList.remove('active');
                registerForm.style.display = 'block';
                loginForm.style.display = 'none';
                modalTitle.textContent = 'Crear Cuenta';
            }
        };
        
        window.toggleProfileDropdown = function() {
            const userMenu = document.getElementById('userMenu');
            userMenu.classList.toggle('dropdown-open');
        };
        
        window.showForgotPassword = function() {
            showSuccessMessage('En modo demo: Funcionalidad de recuperaci√≥n de contrase√±a no disponible');
        };
    </script>
    
    <!-- Setup form handlers -->
    <script>
        // Real Firebase authentication handlers
        
        // Login form
        const loginForm = document.getElementById('loginFormElement');
        if (loginForm) {
            loginForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (email && password) {
                    if (window.signInWithEmail) {
                        const result = await window.signInWithEmail(email, password);
                        if (result.success) {
                            showSuccessMessage('¬°Bienvenido de vuelta!');
                            closeAuthModal();
                        } else {
                            showErrorMessage(result.error || 'Error al iniciar sesi√≥n');
                        }
                    } else {
                        showErrorMessage('Sistema de autenticaci√≥n no disponible');
                    }
                } else {
                    showErrorMessage('Por favor completa todos los campos');
                }
            });
        }
        
        // Register form
        const registerForm = document.getElementById('registerFormElement');
        if (registerForm) {
            registerForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;
                const favoriteTeam = document.getElementById('registerFavoriteTeam').value;
                
                if (name && email && password) {
                    if (window.signUpWithEmail) {
                        const result = await window.signUpWithEmail(email, password, name, favoriteTeam);
                        if (result.success) {
                            showSuccessMessage('¬°Cuenta creada exitosamente!');
                            closeAuthModal();
                        } else {
                            showErrorMessage(result.error || 'Error al crear la cuenta');
                        }
                    } else {
                        showErrorMessage('Sistema de autenticaci√≥n no disponible');
                    }
                } else {
                    showErrorMessage('Por favor completa todos los campos');
                }
            });
        }
        
        // Google sign in
        window.signInWithGoogle = async function() {
            if (window.signInWithGoogle && window.auth) {
                try {
                    const provider = new firebase.auth.GoogleAuthProvider();
                    const result = await window.auth.signInWithPopup(provider);
                    if (result.user) {
                        showSuccessMessage('¬°Bienvenido con Google!');
                        closeAuthModal();
                    }
                } catch (error) {
                    showErrorMessage('Error al iniciar sesi√≥n con Google: ' + error.message);
                }
            } else {
                showErrorMessage('Google Sign-In no disponible');
            }
        };
        
        // Show user as logged in
        function showUserLoggedIn(email, name = 'Usuario Demo') {
            const authButtons = document.getElementById('authButtons');
            const userMenu = document.getElementById('userMenu');
            const userDisplayName = document.getElementById('userDisplayName');
            
            if (authButtons) authButtons.style.display = 'none';
            if (userMenu) userMenu.style.display = 'flex';
            if (userDisplayName) userDisplayName.textContent = name;
        }
        
        // Success/Error message functions
        function showSuccessMessage(message) {
            alert('‚úÖ ' + message);
        }
        
        function showErrorMessage(message) {
            alert('‚ùå ' + message);
        }
    </script>
    
    <!-- Cookie Banner Script -->
    <script src="js/cookie-banner.js?v=20251109"></script>
    
    <!-- App Download Banner Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Manejar click en bot√≥n de descarga
            const downloadBtn = document.getElementById('downloadAppBtn');
            const githubBtn = document.getElementById('githubLinkBtn');
            
            if (downloadBtn) {
                downloadBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    // Animaci√≥n de descarga
                    downloadBtn.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        downloadBtn.style.transform = '';
                        alert('üöÄ ¬°Pr√≥ximamente disponible!\n\nLa aplicaci√≥n m√≥vil de UltraGol estar√° disponible pronto en GitHub.\n\nCaracter√≠sticas:\n‚úÖ Dise√±o nativo optimizado\n‚úÖ Notificaciones push\n‚úÖ Modo offline\n‚úÖ Transmisiones HD');
                    }, 150);
                });
            }
            
            if (githubBtn) {
                githubBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    // Aqu√≠ puedes poner tu enlace de GitHub cuando est√© listo
                    alert('üì± Repositorio en GitHub\n\nüîß Cuando subas tu aplicaci√≥n a GitHub, actualiza esta l√≠nea:\n\nwindow.open("https://github.com/tu-usuario/ultragol-app", "_blank");\n\nEn el archivo index.html l√≠nea ~702');
                    // window.open('https://github.com/tu-usuario/ultragol-app', '_blank');
                });
            }
            
            // Efectos adicionales para el banner
            const banner = document.querySelector('.app-download-banner');
            if (banner) {
                // Animaci√≥n de entrada cuando el banner entra en vista
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            banner.classList.add('in-view');
                        }
                    });
                });
                observer.observe(banner);
            }
            
            console.log('üé® Banner ultra profesional de UltraGol cargado exitosamente!');
        });
        
        // Carrusel Creativo Moderno - Estilo Danz
        class DanzCarousel {
            constructor() {
                this.currentSlide = 0;
                this.slides = document.querySelectorAll('.carousel-slide');
                this.slidesContainer = document.querySelector('.carousel-slides');
                this.indicators = document.querySelectorAll('.indicator');
                this.isTransitioning = false;
                this.autoplayInterval = null;
                this.autoplayDelay = 5000; // 5 segundos
                this.startX = 0;
                this.currentX = 0;
                this.isDragging = false;
                
                this.init();
            }
            
            init() {
                if (this.slides.length === 0) return;
                
                // Eventos de indicadores
                this.indicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', () => this.goToSlide(index));
                });
                
                // Autoplay
                this.startAutoplay();
                
                // Pausar autoplay en hover
                const carousel = document.querySelector('.hero-carousel');
                if (carousel) {
                    carousel.addEventListener('mouseenter', () => this.stopAutoplay());
                    carousel.addEventListener('mouseleave', () => this.startAutoplay());
                }
                
                // Soporte t√°ctil avanzado
                this.addAdvancedTouchSupport();
                
                // Navegaci√≥n con teclado
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') this.prevSlide();
                    if (e.key === 'ArrowRight') this.nextSlide();
                });
                
                console.log('üé® Carrusel creativo moderno inicializado');
            }
            
            goToSlide(slideIndex) {
                if (this.isTransitioning || slideIndex === this.currentSlide) return;
                
                this.isTransitioning = true;
                this.currentSlide = slideIndex;
                
                // Mover el contenedor con transform
                const translateX = -(this.currentSlide * 20);
                this.slidesContainer.style.transform = `translateX(${translateX}%)`;
                
                // Actualizar indicadores
                this.indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === this.currentSlide);
                });
                
                // Re-trigger animaciones del contenido
                this.animateCurrentSlideContent();
                
                setTimeout(() => {
                    this.isTransitioning = false;
                }, 800);
            }
            
            nextSlide() {
                const nextIndex = (this.currentSlide + 1) % this.slides.length;
                this.goToSlide(nextIndex);
            }
            
            prevSlide() {
                const prevIndex = (this.currentSlide - 1 + this.slides.length) % this.slides.length;
                this.goToSlide(prevIndex);
            }
            
            animateCurrentSlideContent() {
                // Resetear todas las animaciones
                this.slides.forEach(slide => {
                    const elements = slide.querySelectorAll('.hero-title, .hero-subtitle, .hero-buttons');
                    elements.forEach(el => {
                        el.style.animation = 'none';
                        el.offsetHeight; // Forzar reflow
                        el.style.animation = null;
                    });
                });
            }
            
            startAutoplay() {
                this.stopAutoplay();
                this.autoplayInterval = setInterval(() => {
                    if (!this.isTransitioning && !this.isDragging) {
                        this.nextSlide();
                    }
                }, this.autoplayDelay);
            }
            
            stopAutoplay() {
                if (this.autoplayInterval) {
                    clearInterval(this.autoplayInterval);
                    this.autoplayInterval = null;
                }
            }
            
            addAdvancedTouchSupport() {
                // Mouse events
                this.slidesContainer.addEventListener('mousedown', (e) => this.handleStart(e));
                document.addEventListener('mousemove', (e) => this.handleMove(e));
                document.addEventListener('mouseup', () => this.handleEnd());
                
                // Touch events
                this.slidesContainer.addEventListener('touchstart', (e) => this.handleStart(e.touches[0]), { passive: true });
                this.slidesContainer.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    this.handleMove(e.touches[0]);
                }, { passive: false });
                this.slidesContainer.addEventListener('touchend', () => this.handleEnd());
            }
            
            handleStart(e) {
                this.isDragging = true;
                this.startX = e.clientX;
                this.currentX = -(this.currentSlide * 20);
                this.slidesContainer.style.cursor = 'grabbing';
                this.stopAutoplay();
            }
            
            handleMove(e) {
                if (!this.isDragging) return;
                
                const diff = e.clientX - this.startX;
                const dragPercent = (diff / window.innerWidth) * 100;
                const newX = this.currentX + dragPercent;
                
                // Limitar el rango de arrastre
                const maxDrag = 0;
                const minDrag = -((this.slides.length - 1) * 20);
                const clampedX = Math.max(minDrag, Math.min(maxDrag, newX));
                
                this.slidesContainer.style.transform = `translateX(${clampedX}%)`;
            }
            
            handleEnd() {
                if (!this.isDragging) return;
                
                this.isDragging = false;
                this.slidesContainer.style.cursor = 'grab';
                
                // Calcular a qu√© slide ir basado en la posici√≥n
                const currentTransform = this.slidesContainer.style.transform;
                const currentX = parseFloat(currentTransform.match(/translateX\(([^)]+)%\)/)?.[1] || 0);
                const expectedX = -(this.currentSlide * 20);
                const threshold = 10; // 10% threshold
                
                if (currentX > expectedX + threshold) {
                    // Deslizar hacia el slide anterior
                    this.prevSlide();
                } else if (currentX < expectedX - threshold) {
                    // Deslizar hacia el siguiente slide
                    this.nextSlide();
                } else {
                    // Volver al slide actual
                    this.goToSlide(this.currentSlide);
                }
                
                // Reiniciar autoplay despu√©s de un momento
                setTimeout(() => {
                    this.startAutoplay();
                }, 2000);
            }
        }
        
        // Inicializar carrusel cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', () => {
            new DanzCarousel();
        });
    </script>
    
    <!-- UltraGol API Service -->
    <script src="js/api-service.js?v=20251109"></script>
    
    <!-- Original main.js -->
    <script src="js/main.js?v=20251109"></script>
    
    <!-- Live Scoreboard -->
    <script src="js/live-scoreboard.js?v=20251110c"></script>
    
    <!-- Mini Banner de Aplicaci√≥n UltraGol -->
    <div id="ultraGolMiniAppBanner" class="mini-app-banner">
        <div class="mini-banner-content">
            <div class="mini-banner-icon">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <div class="mini-banner-text">
                <span class="mini-banner-title">ABRIR APLICACION DE ULTRAGOL</span>
            </div>
            <button id="closeMiniAppBanner" class="mini-banner-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <script>
        // Mini App Banner functionality
        document.addEventListener('DOMContentLoaded', function() {
            const miniAppBanner = document.getElementById('ultraGolMiniAppBanner');
            const closeBannerBtn = document.getElementById('closeMiniAppBanner');
            
            // Check if banner was previously closed
            const bannerClosed = localStorage.getItem('ultraGolMiniAppBannerClosed');
            if (bannerClosed === 'true') {
                miniAppBanner.style.display = 'none';
            } else {
                // Show banner after 2 seconds
                setTimeout(() => {
                    miniAppBanner.classList.add('show');
                }, 2000);
            }
            
            // Close banner functionality
            closeBannerBtn.addEventListener('click', function() {
                miniAppBanner.classList.add('hide');
                localStorage.setItem('ultraGolMiniAppBannerClosed', 'true');
                setTimeout(() => {
                    miniAppBanner.style.display = 'none';
                }, 300);
            });
            
            // Banner click to open app (you can customize this action)
            miniAppBanner.addEventListener('click', function(e) {
                if (e.target === closeBannerBtn || e.target.parentNode === closeBannerBtn) {
                    return; // Don't trigger if clicking close button
                }
                // Here you can add action to open the app
                // For example: window.open('/ULTRA/index.html', '_blank');
                window.open('/ULTRA/index.html', '_blank');
            });
        });
    </script>

    <!-- Video Carousel 3D with Dynamic Data Loading -->
    <script>
        class VideoCarousel3D {
            constructor() {
                this.carousel = document.getElementById('videoCarousel');
                this.indicatorsContainer = document.getElementById('carouselIndicators');
                this.prevBtn = document.getElementById('prevVideo');
                this.nextBtn = document.getElementById('nextVideo');
                this.currentIndex = 0;
                this.videos = [];
                this.totalCards = 0;
                this.isTransitioning = false;

                this.loadVideos();
            }

            async loadVideos() {
                try {
                    console.log('üì• Loading Liga MX videos from JSON...');
                    const response = await fetch('data/videos-highlights.json');
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    
                    const videosData = await response.json();
                    console.log('‚úÖ JSON loaded successfully with', videosData.length, 'total videos');
                    
                    if (!Array.isArray(videosData) || videosData.length === 0) {
                        throw new Error('Invalid or empty video data array');
                    }
                    
                    // Use first 5 videos for the carousel
                    this.videos = videosData.slice(0, 5);
                    this.totalCards = this.videos.length;
                    
                    console.log('üé¨ Using first', this.totalCards, 'Liga MX videos for carousel');
                    console.log('üìã Videos loaded:', this.videos.map(v => v.partido));
                    
                    this.generateVideoCards();
                    this.generateIndicators();
                    this.init();
                    
                    console.log('üé¨ Video Carousel 3D initialized with', this.totalCards, 'Liga MX videos from JSON');
                } catch (error) {
                    console.error('‚ùå Error loading Liga MX video data:', error);
                    console.log('‚ö†Ô∏è Falling back to default videos...');
                    this.loadFallbackVideos();
                }
            }

            generateVideoCards() {
                const carouselHTML = this.videos.map((video, index) => {
                    const isActive = index === 0 ? 'active' : '';
                    
                    if (video.tipo === 'external') {
                        // Handle Facebook video with external link
                        return `
                            <div class="video-card ${isActive}">
                                <div class="video-wrapper external-video">
                                    <div class="external-video-placeholder" onclick="window.open('${video.link}', '_blank')">
                                        <img src="${video.thumbnail}" alt="${video.partido}" loading="lazy">
                                        <div class="external-video-overlay">
                                            <i class="fab fa-facebook-f"></i>
                                            <span>Ver en Facebook</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="video-info">
                                    <h3 class="video-title">${video.partido}</h3>
                                    <p class="video-description">${video.descripcion}</p>
                                    <div class="video-meta">
                                        <span class="video-team">${video.equipo}</span>
                                        <span class="video-date">${video.fecha}</span>
                                    </div>
                                </div>
                            </div>
                        `;
                    } else {
                        // Handle YouTube videos
                        return `
                            <div class="video-card ${isActive}">
                                <div class="video-wrapper">
                                    <iframe 
                                        src="${video.embed_url}?enablejsapi=1&modestbranding=1&rel=0&playsinline=1" 
                                        title="${video.partido}" 
                                        frameborder="0" 
                                        loading="lazy"
                                        playsinline="1"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <div class="video-info">
                                    <h3 class="video-title">${video.partido}</h3>
                                    <p class="video-description">${video.descripcion}</p>
                                    <div class="video-meta">
                                        <span class="video-team">${video.equipo}</span>
                                        <span class="video-date">${video.fecha}</span>
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                }).join('');

                this.carousel.innerHTML = carouselHTML;
            }

            generateIndicators() {
                const indicatorsHTML = this.videos.map((_, index) => {
                    const isActive = index === 0 ? 'active' : '';
                    return `<button class="indicator ${isActive}" data-index="${index}"></button>`;
                }).join('');

                this.indicatorsContainer.innerHTML = indicatorsHTML;
            }

            init() {
                if (!this.carousel) {
                    console.log('Video carousel element not found');
                    return;
                }

                this.cards = document.querySelectorAll('.video-card');
                this.indicators = document.querySelectorAll('.indicator');

                // Add event listeners
                this.prevBtn?.addEventListener('click', () => this.prevSlide());
                this.nextBtn?.addEventListener('click', () => this.nextSlide());

                // Indicator event listeners
                this.indicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', () => this.goToSlide(index));
                });

                // Touch/Swipe support
                this.addTouchSupport();

                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') this.prevSlide();
                    if (e.key === 'ArrowRight') this.nextSlide();
                });

                // Auto-play
                this.startAutoPlay();

                // Initialize carousel positions
                setTimeout(() => {
                    this.updateCarousel();
                }, 100);
            }

            updateCarousel() {
                if (this.isTransitioning || !this.cards) return;
                
                this.isTransitioning = true;

                // Update cards positions with enhanced 3D effects
                this.cards.forEach((card, index) => {
                    card.classList.remove('active');
                    
                    const position = (index - this.currentIndex + this.totalCards) % this.totalCards;
                    
                    // Set CSS custom properties for hover effects
                    switch(position) {
                        case 0: // Active center card
                            card.style.transform = 'translateX(0) translateZ(50px) rotateY(0deg) scale(1.05)';
                            card.style.setProperty('--tx', '0');
                            card.style.setProperty('--tz', '50px');
                            card.style.setProperty('--ry', '0deg');
                            card.style.setProperty('--scale', '1.05');
                            card.style.zIndex = '5';
                            card.style.opacity = '1';
                            card.style.filter = 'brightness(1.1) saturate(1.2)';
                            card.classList.add('active');
                            break;
                        case 1: // Right card
                            card.style.transform = 'translateX(480px) translateZ(-180px) rotateY(-35deg) scale(0.85)';
                            card.style.setProperty('--tx', '480px');
                            card.style.setProperty('--tz', '-180px');
                            card.style.setProperty('--ry', '-35deg');
                            card.style.setProperty('--scale', '0.85');
                            card.style.zIndex = '4';
                            card.style.opacity = '0.8';
                            card.style.filter = 'brightness(0.9) saturate(0.9)';
                            break;
                        case this.totalCards - 1: // Left card
                            card.style.transform = 'translateX(-480px) translateZ(-180px) rotateY(35deg) scale(0.85)';
                            card.style.setProperty('--tx', '-480px');
                            card.style.setProperty('--tz', '-180px');
                            card.style.setProperty('--ry', '35deg');
                            card.style.setProperty('--scale', '0.85');
                            card.style.zIndex = '4';
                            card.style.opacity = '0.8';
                            card.style.filter = 'brightness(0.9) saturate(0.9)';
                            break;
                        case 2: // Far right card
                            card.style.transform = 'translateX(750px) translateZ(-350px) rotateY(-50deg) scale(0.65)';
                            card.style.setProperty('--tx', '750px');
                            card.style.setProperty('--tz', '-350px');
                            card.style.setProperty('--ry', '-50deg');
                            card.style.setProperty('--scale', '0.65');
                            card.style.zIndex = '3';
                            card.style.opacity = '0.5';
                            card.style.filter = 'brightness(0.7) saturate(0.7)';
                            break;
                        case this.totalCards - 2: // Far left card
                            card.style.transform = 'translateX(-750px) translateZ(-350px) rotateY(50deg) scale(0.65)';
                            card.style.setProperty('--tx', '-750px');
                            card.style.setProperty('--tz', '-350px');
                            card.style.setProperty('--ry', '50deg');
                            card.style.setProperty('--scale', '0.65');
                            card.style.zIndex = '3';
                            card.style.opacity = '0.5';
                            card.style.filter = 'brightness(0.7) saturate(0.7)';
                            break;
                        default: // Hidden cards
                            card.style.transform = 'translateX(0) translateZ(-600px) rotateY(0deg) scale(0.3)';
                            card.style.setProperty('--tx', '0');
                            card.style.setProperty('--tz', '-600px');
                            card.style.setProperty('--ry', '0deg');
                            card.style.setProperty('--scale', '0.3');
                            card.style.zIndex = '1';
                            card.style.opacity = '0';
                            card.style.filter = 'brightness(0.5) saturate(0.5)';
                            break;
                    }
                });

                // Update indicators with smooth animation
                this.indicators?.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === this.currentIndex);
                });

                // Reset transition flag
                setTimeout(() => {
                    this.isTransitioning = false;
                }, 1000);
                
                console.log('üé¨ Carousel updated - Active video:', this.videos[this.currentIndex]?.partido);
            }

            nextSlide() {
                if (this.isTransitioning) return;
                this.currentIndex = (this.currentIndex + 1) % this.totalCards;
                this.updateCarousel();
                this.resetAutoPlay();
            }

            prevSlide() {
                if (this.isTransitioning) return;
                this.currentIndex = (this.currentIndex - 1 + this.totalCards) % this.totalCards;
                this.updateCarousel();
                this.resetAutoPlay();
            }

            goToSlide(index) {
                if (this.isTransitioning || index === this.currentIndex) return;
                this.currentIndex = index;
                this.updateCarousel();
                this.resetAutoPlay();
            }

            addTouchSupport() {
                let startX = 0;
                let isDragging = false;

                this.carousel.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    isDragging = true;
                }, { passive: true });

                this.carousel.addEventListener('touchmove', (e) => {
                    if (!isDragging) return;
                    e.preventDefault();
                }, { passive: false });

                this.carousel.addEventListener('touchend', (e) => {
                    if (!isDragging) return;
                    
                    const endX = e.changedTouches[0].clientX;
                    const diffX = startX - endX;
                    const threshold = 50;

                    if (Math.abs(diffX) > threshold) {
                        if (diffX > 0) {
                            this.nextSlide();
                        } else {
                            this.prevSlide();
                        }
                    }

                    isDragging = false;
                });
            }

            startAutoPlay() {
                this.autoPlayInterval = setInterval(() => {
                    if (!this.isTransitioning) {
                        this.nextSlide();
                    }
                }, 8000); // Change slide every 8 seconds
            }

            stopAutoPlay() {
                if (this.autoPlayInterval) {
                    clearInterval(this.autoPlayInterval);
                    this.autoPlayInterval = null;
                }
            }

            resetAutoPlay() {
                this.stopAutoPlay();
                this.startAutoPlay();
            }

            loadFallbackVideos() {
                // Fallback in case JSON fails to load
                console.log('‚ö†Ô∏è Loading fallback videos...');
                this.videos = [
                    {
                        id: 1,
                        partido: "Liga MX - Mejores Momentos",
                        embed_url: "https://www.youtube.com/embed/dQw4w9WgXcQ",
                        equipo: "Liga MX",
                        fecha: "2025",
                        descripcion: "Los mejores momentos del f√∫tbol mexicano"
                    }
                ];
                this.totalCards = 1;
                this.generateVideoCards();
                this.generateIndicators();
                this.init();
            }
        }

        // Initialize video carousel when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            window.videoCarousel = new VideoCarousel3D();
            
            // Add hover events after carousel is initialized
            setTimeout(() => {
                const carouselContainer = document.querySelector('.video-carousel-container');
                if (carouselContainer && window.videoCarousel) {
                    carouselContainer.addEventListener('mouseenter', () => {
                        if (window.videoCarousel && typeof window.videoCarousel.stopAutoPlay === 'function') {
                            window.videoCarousel.stopAutoPlay();
                        }
                    });
                    
                    carouselContainer.addEventListener('mouseleave', () => {
                        if (window.videoCarousel && typeof window.videoCarousel.startAutoPlay === 'function') {
                            window.videoCarousel.startAutoPlay();
                        }
                    });
                }
            }, 1000); // Wait for carousel to fully initialize
        });
    </script>
    
    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <!-- Firebase Configuration -->
    <script src="js/firebase-config.js?v=20251109"></script>
    
    <!-- Firebase Authentication -->
    <script src="js/firebase-auth.js?v=20251109"></script>
    
    <script src="js/gemini-chat.js?v=20251109"></script>
    
    <!-- PWA Install Banner -->
    <div id="pwa-install-banner" class="pwa-install-banner">
        <div class="pwa-banner-content">
            <div class="pwa-banner-icon">
                <img src="app-icon.png" alt="UltraGol">
            </div>
            <div class="pwa-banner-text">
                <h3 class="pwa-banner-title">Instalar UltraGol</h3>
                <p class="pwa-banner-description">Accede m√°s r√°pido desde tu pantalla de inicio</p>
            </div>
        </div>
        <div class="pwa-banner-actions">
            <button class="pwa-install-btn" onclick="installPWA()">
                <i class="fas fa-download"></i>
                Instalar App
            </button>
            <button class="pwa-close-btn" onclick="closePWABanner()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    
    <!-- PWA Install Script -->
    <script src="js/pwa-install.js?v=20251109"></script>
    
    <!-- Notifications System -->
    <script src="js/notifications.js?v=20251109"></script>
    
    <!-- TV Remote Navigation -->
    <script src="js/tv-remote-navigation.js?v=20251109"></script>
    
    <!-- Service Worker Registration with Auto-Update -->
    <script>
    if ('serviceWorker' in navigator) {
      // Registrar el Service Worker con versi√≥n
      navigator.serviceWorker.register('/sw.js?v=20251109')
        .then(registration => {
          console.log('‚úÖ Service Worker registrado:', registration.scope);
          
          // Verificar actualizaciones cada 60 segundos
          setInterval(() => {
            registration.update();
          }, 60000);
          
          // Escuchar cuando hay un nuevo Service Worker esperando
          registration.addEventListener('updatefound', () => {
            const newWorker = registration.installing;
            console.log('üîÑ Nueva versi√≥n del Service Worker encontrada');
            
            newWorker.addEventListener('statechange', () => {
              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                console.log('‚ú® Nueva versi√≥n disponible. Recarga la p√°gina para actualizar.');
              }
            });
          });
        })
        .catch(err => console.error('‚ùå Error al registrar el SW:', err));

      // Service Worker actualizado (sin recarga autom√°tica)
      navigator.serviceWorker.addEventListener('controllerchange', () => {
        console.log('üîÑ Service Worker actualizado.');
      });
      
      // Escuchar mensajes del Service Worker
      navigator.serviceWorker.addEventListener('message', event => {
        if (event.data && event.data.type === 'CACHE_UPDATED') {
          console.log('üì¶ Cach√© actualizada a versi√≥n:', event.data.version);
        }
      });
    }
    </script>
</body>
</html>
