<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L3HO-LINKS | ULTRAGOL</title>
    <!-- Adsterra Script (Head) -->
    <script src="https://pl28233900.effectivegatecpm.com/db/ae/7b/dbae7bfb26e8cec2c05cc29dd73cb8bd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        
        body {
            background-color: #0f0f0f;
            color: #ffffff;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            background: linear-gradient(90deg, #ff9933, #ff5500);
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            z-index: 100;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 30px;
            height: 30px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ff5500;
        }

        .container {
            flex: 1;
            position: relative;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0f0f0f;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 50;
            transition: opacity 0.5s ease;
        }

        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid #FFF;
            border-bottom-color: #ff9933;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }

        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Banner de Instalaci√≥n PWA Estilo ULTRAGOL */
        #pwa-banner {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 1px solid #ff9933;
            border-radius: 12px;
            padding: 15px;
            display: none;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 1000;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .pwa-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .pwa-icon {
            width: 40px;
            height: 40px;
            background: #ff9933;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .pwa-text h4 {
            margin: 0;
            font-size: 16px;
            color: #ff9933;
        }

        .pwa-text p {
            margin: 0;
            font-size: 12px;
            color: #ccc;
        }

        .pwa-buttons {
            display: flex;
            gap: 10px;
        }

        .btn-install {
            background: #ff9933;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
        }

        .btn-close {
            background: transparent;
            color: #888;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <a href="/" class="logo">
            <div class="logo-icon">‚öΩ</div>
            L3HO LINKS
        </a>
        <div style="font-size: 12px; opacity: 0.8;">ULTRAGOL Platform</div>
    </header>

    <div class="container">
        <div id="loading" class="loading-overlay">
            <span class="loader"></span>
            <p style="margin-top: 15px; color: #ff9933; font-weight: bold;">Cargando enlaces...</p>
        </div>
        <iframe 
            src="https://ultragol-api-3.vercel.app/l3ho-links" 
            allowfullscreen
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            onload="document.getElementById('loading').style.opacity='0'; setTimeout(() => document.getElementById('loading').style.display='none', 500)"
        ></iframe>
    </div>

    <!-- PWA Install Banner -->
    <div id="pwa-banner">
        <div class="pwa-info">
            <div class="pwa-icon">L3</div>
            <div class="pwa-text">
                <h4>Instalar L3HO Links</h4>
                <p>Acceso r√°pido a tus transmisiones</p>
            </div>
        </div>
        <div class="pwa-buttons">
            <button id="install-button" class="btn-install">Instalar</button>
            <button id="close-banner" class="btn-close">√ó</button>
        </div>
    </div>
    
    <!-- Offline Game Fallback -->
    <div id="offlineGameModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 10000; justify-content: center; align-items: center; flex-direction: column;">
        <div style="position: relative; width: 100%; max-width: 400px; background: #1a1a1a; border: 2px solid #ff9933; border-radius: 16px; padding: 20px; text-align: center;">
            <h2 style="color: #ff9933; margin-bottom: 15px;">‚öΩ ULTRAJUMPER</h2>
            <canvas id="offlineGameCanvas" width="300" height="400" style="background: #000; border-radius: 8px; margin-bottom: 15px; width: 100%;"></canvas>
            <p style="color: #ff5500; font-weight: bold;">üì° Sin conexi√≥n a internet</p>
            <button onclick="document.getElementById('offlineGameModal').style.display='none'" style="margin-top: 10px; background: #333; color: white; border: none; padding: 5px 15px; border-radius: 5px; cursor: pointer;">Cerrar</button>
        </div>
    </div>
    
    <script>
        // L√≥gica de PWA (Simplificada para el ejemplo)
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            const banner = document.getElementById('pwa-banner');
            if (banner) banner.style.display = 'flex';
        });

        document.getElementById('install-button')?.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                deferredPrompt = null;
                document.getElementById('pwa-banner').style.display = 'none';
            }
        });

        document.getElementById('close-banner')?.addEventListener('click', () => {
            document.getElementById('pwa-banner').style.display = 'none';
        });

        // Juego Offline (Mantenido y adaptado visualmente)
        class OfflineGame {
            constructor(canvasId) {
                this.canvas = document.getElementById(canvasId);
                if (!this.canvas) return;
                this.ctx = this.canvas.getContext('2d');
                this.ball = {x: 150, y: 350, radius: 10, velocityY: 0, velocityX: 0, gravity: 0.5, jumpPower: -12};
                this.platforms = [];
                this.score = 0;
                this.isGameOver = false;
                this.gameStarted = false;
                this.cameraY = 0;
                this.setupPlatforms();
                this.setupControls();
                this.gameLoop();
            }
            setupPlatforms() {
                for(let i=0; i<6; i++) {
                    this.platforms.push({x: Math.random()*220, y: i*70, width: 60, height: 10});
                }
            }
            setupControls() {
                window.addEventListener('keydown', e => { if(e.code === 'Space') { e.preventDefault(); this.gameStarted = true; this.ball.velocityY = this.ball.jumpPower; }});
                this.canvas.addEventListener('touchstart', () => { this.gameStarted = true; this.ball.velocityY = this.ball.jumpPower; });
            }
            update() {
                if(!this.gameStarted) return;
                this.ball.velocityY += this.ball.gravity;
                this.ball.y += this.ball.velocityY;
                this.platforms.forEach(p => {
                    if(this.ball.velocityY > 0 && this.ball.x > p.x && this.ball.x < p.x + p.width && this.ball.y > p.y && this.ball.y < p.y + 10) {
                        this.ball.velocityY = this.ball.jumpPower;
                        this.score++;
                    }
                });
                if(this.ball.y > 400) this.isGameOver = true;
            }
            draw() {
                this.ctx.clearRect(0, 0, 300, 400);
                this.ctx.fillStyle = '#ff9933';
                this.platforms.forEach(p => this.ctx.fillRect(p.x, p.y, p.width, p.height));
                this.ctx.fillStyle = '#fff';
                this.ctx.beginPath();
                this.ctx.arc(this.ball.x, this.ball.y, 10, 0, Math.PI*2);
                this.ctx.fill();
                this.ctx.fillText(`Score: ${this.score}`, 10, 20);
                if(this.isGameOver) {
                    this.ctx.fillStyle = 'red';
                    this.ctx.font = '20px Arial';
                    this.ctx.fillText('GAME OVER', 100, 200);
                }
            }
            gameLoop = () => {
                this.update();
                this.draw();
                if(!this.isGameOver) requestAnimationFrame(this.gameLoop);
            }
        }
        
        function showOfflineGame() {
            document.getElementById('offlineGameModal').style.display = 'flex';
            new OfflineGame('offlineGameCanvas');
        }
        window.addEventListener('offline', showOfflineGame);
        if (!navigator.onLine) showOfflineGame();
    </script>
    <!-- Adsterra Script (Body) -->
    <script src="https://pl28237585.effectivegatecpm.com/f1/e3/ec/f1e3ec0c90a95112813d90794456ae52.js"></script>
</body>
</html>